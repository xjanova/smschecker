# üîë ‡∏ß‡∏¥‡∏ò‡∏µ‡∏™‡∏£‡πâ‡∏≤‡∏á Release Keystore ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö SMS Checker

## üéØ ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
‡∏™‡∏£‡πâ‡∏≤‡∏á keystore ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÅ‡∏≠‡∏û‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≠‡∏ô ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢

---

## ‚ö° ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1: ‡πÉ‡∏ä‡πâ Android Studio (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ - ‡∏á‡πà‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)

### ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô:

1. **‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ SMS Checker ‡πÉ‡∏ô Android Studio**

2. **‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π Build**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Build** ‚Üí **Generate Signed Bundle / APK...**

3. **‡πÄ‡∏•‡∏∑‡∏≠‡∏Å APK**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **APK**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Next**

4. **‡∏™‡∏£‡πâ‡∏≤‡∏á Key Store ‡πÉ‡∏´‡∏°‡πà**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Create new...** (‡∏Ç‡πâ‡∏≤‡∏á‡πÜ Key store path)

5. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Key Store**
   ```
   üìÅ Key store path: D:\Code\SmsChecker\smschecker-release.keystore
   üîí Password: android123
   üîí Confirm: android123
   ```

6. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Key**
   ```
   üîë Alias: smschecker-release
   üîí Password: android123
   üîí Confirm: android123
   ‚è∞ Validity (years): 27 (‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤)
   ```

7. **‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Certificate**
   ```
   üë§ First and Last Name: SMS Checker
   üè¢ Organizational Unit: ThaiPrompt
   üè¢ Organization: ThaiPrompt
   üèôÔ∏è City or Locality: Bangkok
   üó∫Ô∏è State or Province: Bangkok
   üåç Country Code (XX): TH
   ```

8. **‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **OK**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Next**
   - ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å **release**
   - ‡∏Ñ‡∏•‡∏¥‡∏Å **Finish**

9. **‚úÖ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß!** ‡πÑ‡∏ü‡∏•‡πå `smschecker-release.keystore` ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ó‡∏µ‡πà `D:\Code\SmsChecker\`

---

## ‚ö° ‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 2: ‡πÉ‡∏ä‡πâ Command Line (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ú‡∏π‡πâ‡πÄ‡∏ä‡∏µ‡πà‡∏¢‡∏ß‡∏ä‡∏≤‡∏ç)

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Windows (PowerShell ‡∏´‡∏£‡∏∑‡∏≠ CMD):

```powershell
# ‡πÄ‡∏Ç‡πâ‡∏≤‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
cd D:\Code\SmsChecker

# ‡∏´‡∏≤ keytool (‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô JDK)
# ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á: C:\Program Files\Java\jdk-17\bin\keytool.exe
where.exe keytool

# ‡∏™‡∏£‡πâ‡∏≤‡∏á keystore (‡πÅ‡∏ó‡∏ô PATH_TO_KEYTOOL ‡∏î‡πâ‡∏ß‡∏¢‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏à‡∏≠)
"C:\Program Files\Java\jdk-17\bin\keytool.exe" -genkeypair -v ^
  -keystore smschecker-release.keystore ^
  -alias smschecker-release ^
  -keyalg RSA ^
  -keysize 2048 ^
  -validity 10000 ^
  -storepass android123 ^
  -keypass android123 ^
  -dname "CN=SMS Checker, OU=ThaiPrompt, O=ThaiPrompt, L=Bangkok, ST=Bangkok, C=TH"
```

### ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Mac/Linux:

```bash
cd /path/to/SmsChecker

keytool -genkeypair -v \
  -keystore smschecker-release.keystore \
  -alias smschecker-release \
  -keyalg RSA \
  -keysize 2048 \
  -validity 10000 \
  -storepass android123 \
  -keypass android123 \
  -dname "CN=SMS Checker, OU=ThaiPrompt, O=ThaiPrompt, L=Bangkok, ST=Bangkok, C=TH"
```

---

## üìù ‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á Keystore

### 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå keystore.properties

‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå `D:\Code\SmsChecker\keystore.properties` (‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ):

```properties
storeFile=smschecker-release.keystore
storePassword=android123
keyAlias=smschecker-release
keyPassword=android123
```

### 2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö .gitignore

‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `.gitignore` ‡∏°‡∏µ‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß:

```
*.keystore
keystore.properties
keystore-base64.txt
```

### 3. ‡πÅ‡∏õ‡∏•‡∏á Keystore ‡πÄ‡∏õ‡πá‡∏ô Base64 (‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö GitHub Actions)

**Windows PowerShell:**
```powershell
cd D:\Code\SmsChecker
[Convert]::ToBase64String([IO.File]::ReadAllBytes("smschecker-release.keystore")) | Out-File keystore-base64.txt
```

**Git Bash / Mac / Linux:**
```bash
cd /path/to/SmsChecker
base64 smschecker-release.keystore > keystore-base64.txt
```

### 4. ‡πÄ‡∏û‡∏¥‡πà‡∏° GitHub Secrets

1. ‡πÄ‡∏Ç‡πâ‡∏≤: https://github.com/xjanova/smschecker/settings/secrets/actions
2. ‡∏Ñ‡∏•‡∏¥‡∏Å **New repository secret**
3. ‡πÄ‡∏û‡∏¥‡πà‡∏° secrets ‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ï‡∏±‡∏ß:

| Secret Name | Value | ‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ |
|------------|-------|---------|
| `SIGNING_KEYSTORE_BASE64` | ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡∏´‡∏≤‡πÉ‡∏ô `keystore-base64.txt` | Keystore ‡∏ó‡∏µ‡πà‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô Base64 |
| `SIGNING_STORE_PASSWORD` | `android123` | ‡∏£‡∏´‡∏±‡∏™ keystore |
| `SIGNING_KEY_ALIAS` | `smschecker-release` | ‡∏ä‡∏∑‡πà‡∏≠ key alias |
| `SIGNING_KEY_PASSWORD` | `android123` | ‡∏£‡∏´‡∏±‡∏™ key |

### 5. ‡∏ó‡∏î‡∏™‡∏≠‡∏ö Build Local

```bash
cd D:\Code\SmsChecker
./gradlew assembleRelease
```

‡∏ñ‡πâ‡∏≤‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏à‡∏∞‡πÑ‡∏î‡πâ APK ‡∏ó‡∏µ‡πà: `app/build/outputs/apk/release/app-release.apk`

---

## ‚úÖ ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ Keystore ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

### ‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Keystore:
```bash
keytool -list -v -keystore smschecker-release.keystore -storepass android123
```

‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ñ‡∏ß‡∏£‡πÅ‡∏™‡∏î‡∏á:
```
Alias name: smschecker-release
Creation date: ...
Entry type: PrivateKeyEntry
Certificate chain length: 1
Certificate[1]:
Owner: CN=SMS Checker, OU=ThaiPrompt, O=ThaiPrompt, L=Bangkok, ST=Bangkok, C=TH
Issuer: CN=SMS Checker, OU=ThaiPrompt, O=ThaiPrompt, L=Bangkok, ST=Bangkok, C=TH
...
```

### ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Signature ‡∏Ç‡∏≠‡∏á APK:
```bash
keytool -printcert -jarfile app/build/outputs/apk/release/app-release.apk
```

---

## üîê ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢

### ‚ö†Ô∏è ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏≥:
- ‚úÖ **‡∏™‡∏≥‡∏£‡∏≠‡∏á keystore ‡πÑ‡∏ß‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏µ‡πà** (USB, Cloud ‡∏™‡πà‡∏ß‡∏ô‡∏ï‡∏±‡∏ß, External HDD)
- ‚úÖ **‡πÄ‡∏Å‡πá‡∏ö‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÑ‡∏ß‡πâ‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢** (Password Manager)
- ‚úÖ **‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ä‡∏£‡πå‡πÉ‡∏´‡πâ‡πÉ‡∏Ñ‡∏£** (‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á Git, Slack, Email)

### ‚ùå ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏´‡πâ‡∏≤‡∏°‡∏ó‡∏≥:
- ‚ùå **‡∏´‡πâ‡∏≤‡∏° commit keystore ‡∏Ç‡∏∂‡πâ‡∏ô Git** (‡πÄ‡∏ä‡πá‡∏Ñ‡πÉ‡∏ô .gitignore ‡πÅ‡∏•‡πâ‡∏ß)
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°‡πÅ‡∏ä‡∏£‡πå‡∏£‡∏´‡∏±‡∏™‡∏ú‡πà‡∏≤‡∏ô‡πÉ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞**
- ‚ùå **‡∏´‡πâ‡∏≤‡∏°‡∏•‡∏ö keystore** (‡∏•‡∏ö‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏≠‡∏û‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ)

### üíÄ ‡∏ñ‡πâ‡∏≤‡∏´‡∏≤‡∏¢ keystore ‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏≠‡∏∞‡πÑ‡∏£?
- üò± **‡πÑ‡∏°‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÅ‡∏≠‡∏û‡πÑ‡∏î‡πâ‡∏≠‡∏µ‡∏Å**
- üò± **‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ú‡∏¢‡πÅ‡∏û‡∏£‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏≠‡∏û‡πÉ‡∏´‡∏°‡πà** (package name ‡πÉ‡∏´‡∏°‡πà)
- üò± **‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≠‡∏ô‡πÅ‡∏≠‡∏û‡πÄ‡∏Å‡πà‡∏≤ ‚Üí ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏≤‡∏¢**

---

## üÜò Troubleshooting

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 1: keytool: command not found

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡πÉ‡∏ä‡πâ Android Studio ‡πÅ‡∏ó‡∏ô (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà 1)
2. ‡∏´‡∏£‡∏∑‡∏≠‡∏´‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á keytool:
   - Windows: `C:\Program Files\Java\jdk-XX\bin\keytool.exe`
   - Mac: `/Library/Java/JavaVirtualMachines/jdk-XX.jdk/Contents/Home/bin/keytool`

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 2: ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á APK ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ (INSTALL_FAILED_UPDATE_INCOMPATIBLE)

**‡∏™‡∏≤‡πÄ‡∏´‡∏ï‡∏∏:** Signature ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ñ‡∏≠‡∏ô‡πÅ‡∏≠‡∏û‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏Å‡πà‡∏≤ (‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ô‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ debug key)
2. ‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà (‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ô‡∏≤‡∏°‡∏î‡πâ‡∏ß‡∏¢ release keystore)
3. ‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ‡πÑ‡∏õ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÑ‡∏î‡πâ‡∏õ‡∏Å‡∏ï‡∏¥ ‚úÖ

### ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ 3: Build failed - Keystore not found

**‡∏ß‡∏¥‡∏ò‡∏µ‡πÅ‡∏Å‡πâ:**
1. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `keystore.properties` ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Ñ
2. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤ `smschecker-release.keystore` ‡∏°‡∏µ‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á
3. ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏™‡πâ‡∏ô‡∏ó‡∏≤‡∏á‡πÉ‡∏ô `keystore.properties` ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á

---

## üìä ‡∏™‡∏£‡∏∏‡∏õ

‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏ó‡∏≥‡∏ï‡∏≤‡∏°‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡πÅ‡∏•‡πâ‡∏ß:

1. ‚úÖ ‡∏°‡∏µ `smschecker-release.keystore` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏á‡∏ô‡∏≤‡∏°
2. ‚úÖ ‡∏°‡∏µ `keystore.properties` ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö local build
3. ‚úÖ ‡∏°‡∏µ GitHub Secrets ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö CI build
4. ‚úÖ Release APK ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡πÑ‡∏î‡πâ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏≠‡∏ô‡πÅ‡∏≠‡∏û
5. ‚úÖ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Database, SharedPreferences) ‡πÑ‡∏°‡πà‡∏´‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó

---

## üìö ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°

- [Android - Sign your app](https://developer.android.com/studio/publish/app-signing)
- [SIGNING_SETUP.md](./SIGNING_SETUP.md) - ‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÅ‡∏ö‡∏ö‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
